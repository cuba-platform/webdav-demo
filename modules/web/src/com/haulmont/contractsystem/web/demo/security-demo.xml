<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://caption"
        class="com.haulmont.contractsystem.web.demo.SecurityDemoWindow"
        messagesPack="com.haulmont.contractsystem.web.demo">
    <dsContext>
        <collectionDatasource id="webdavDocumentsDs"
                              class="com.haulmont.webdav.entity.WebdavDocument"
                              view="webdavDocument-security">
            <query>
                <![CDATA[select d from webdav$WebdavDocument d]]>
            </query>
            <collectionDatasource id="versionsDs"
                                  property="versions"/>
        </collectionDatasource>
        <collectionDatasource id="webdavVersionDs"
                              class="com.haulmont.webdav.entity.WebdavDocumentVersion"
                              view="webdavDocumentVersion-security"/>
    </dsContext>
    <dialogMode height="600"
                width="800"/>
    <layout>
        <groupBox height="100%"
                  spacing="true">
            <hbox height="100%"
                  spacing="true"
                  width="100%">
                <vbox spacing="true">
                    <lookupField id="documentLookup"
                                 caption="msg://selectDocument"
                                 optionsDatasource="webdavDocumentsDs"/>
                    <lookupField id="versionLookup"
                                 caption="msg://selectVersion"
                                 optionsDatasource="webdavVersionDs"/>
                    <label id="statusLabel"
                           htmlEnabled="true"/>
                    <button id="applyButton"
                            caption="msg://apply"
                            invoke="apply"/>
                    <button id="addVersion"
                            caption="msg://apply"
                            invoke="addVersion"/>
                </vbox>
                <table height="100%"
                       width="100%">
                    <columns>
                        <column id="naturalVersionId"/>
                        <column id="fileDescriptor"/>
                        <column id="createTs"/>
                        <column id="createdBy"/>
                    </columns>
                    <rows datasource="versionsDs"/>
                    <rowsCount/>
                </table>
            </hbox>
        </groupBox>
    </layout>
</window>
